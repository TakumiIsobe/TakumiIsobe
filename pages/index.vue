<template>
  <div>
    
    <div class="op w-screen h-screen flex fixed z-99">
      <svg xmlns="http://www.w3.org/2000/svg" width="200" height="45" viewBox="0 0 200 45"><path d="M32.37,34.32l-1.66,0-.79,0c-.14,0-.21-.06-.21-.16s.07-.15.21-.15h.62c.69,0,1.13-.16,1.32-.46a4.52,4.52,0,0,0,.41-1.69c0-.37,0-.82.07-1.33s0-1.16.07-1.93v-18q-.48,0-1.11,0H29.57a4.68,4.68,0,0,0-3.79,1.6q-1.34,1.59-1.92,5.47l-.28,2a.23.23,0,0,1-.22.17c-.11,0-.15-.06-.12-.17l.27-2c.09-.76.16-1.58.21-2.44s.08-2,.1-3.28c0-.62,0-1,0-1.17a.69.69,0,0,1,.05-.28,5.08,5.08,0,0,1,1.41-.17c.81-.05,1.76-.07,2.82-.07h.6l1.51,0c1.06,0,1.83,0,2.32,0h1.81c.22,0,.54,0,1,0h2c.58,0,1.25,0,2,0,1.06,0,2,0,2.84.07a5,5,0,0,1,1.41.17s0,.12.06.28,0,.54,0,1.14c0,1.32.06,2.41.11,3.27A23.7,23.7,0,0,0,44,17.74l.24,2c0,.11,0,.17-.1.17s-.16-.06-.21-.17l-.31-2q-.59-3.88-1.92-5.47a4.81,4.81,0,0,0-3.83-1.63H35.07v18c0,.77,0,1.41.07,1.93s0,1,.07,1.33a4.29,4.29,0,0,0,.42,1.69c.18.3.62.46,1.31.46h.63c.14,0,.2.05.2.15s-.06.16-.2.16l-.82,0-1.64,0c-.49,0-.81,0-1,0h-.74C33.19,34.28,32.86,34.29,32.37,34.32Z" fill="#fff"/><path d="M49.72,30a8.09,8.09,0,0,1-2.33,2.73,5.14,5.14,0,0,1-3.1,1.37,3.8,3.8,0,0,1-2.6-.87,2.82,2.82,0,0,1-1-2.23,3.84,3.84,0,0,1,1.69-2.91,20.31,20.31,0,0,1,5.23-2.77l2.33-.91A7.18,7.18,0,0,0,49.16,21,2.45,2.45,0,0,0,47,20a3.52,3.52,0,0,0-1,.14,2.41,2.41,0,0,0-.85.45A4.59,4.59,0,0,0,43.94,22l-.57,1a1,1,0,0,1-.45.4,2.57,2.57,0,0,1-.79.1,1.55,1.55,0,0,1-.8-.18.53.53,0,0,1-.31-.46,1.19,1.19,0,0,1,.27-.67,2.53,2.53,0,0,1,.7-.63,13.44,13.44,0,0,1,2.74-1.35,8,8,0,0,1,2.66-.54A4.46,4.46,0,0,1,50.85,21,5.31,5.31,0,0,1,52,24.74q0,.56,0,1.35c0,.52,0,1.34-.11,2.45,0,.76-.06,1.28-.07,1.58s0,.52,0,.69A6.35,6.35,0,0,0,52,32.62q.18.54.6.54a1.17,1.17,0,0,0,.73-.45,5,5,0,0,0,.76-1.07.18.18,0,0,1,.28-.06.18.18,0,0,1,.05.28,7.24,7.24,0,0,1-1.53,1.47,3.11,3.11,0,0,1-1.7.77A1.41,1.41,0,0,1,50,33.6a2.27,2.27,0,0,1-.4-1.46c0-.3,0-.63,0-1S49.68,30.38,49.72,30Zm-7.09.2a2.47,2.47,0,0,0,.87,1.91,3.1,3.1,0,0,0,2.15.77,3.78,3.78,0,0,0,2.5-1.23,5.29,5.29,0,0,0,1.6-2.23c.09-1.2.14-2.07.16-2.6s0-1.07,0-1.61v-.58l-2.27,1a15.4,15.4,0,0,0-4.07,2.2A3.11,3.11,0,0,0,42.63,30.23Z" fill="#fff"/><path d="M69.25,21.12m.13.19-.13.05a8.93,8.93,0,0,0-2.61.92,20.44,20.44,0,0,0-3.41,3l-.32.34,2.55,4.08A19.79,19.79,0,0,0,68,33a3,3,0,0,0,1.94,1.07c.1,0,.16,0,.17.12s0,.12-.17.12h-2.5a1.84,1.84,0,0,1-.55-.07,1.79,1.79,0,0,1-.45-.19A4.23,4.23,0,0,1,65.33,33c-.39-.53-.9-1.34-1.54-2.44l-2.17-3.63-2.73,2.78v4.4H60.5c.11,0,.16,0,.16.12s0,.12-.16.12h-.2l-.59,0H58l-.65,0-1.06,0h-.58c-.11,0-.16,0-.16-.12s.05-.12.16-.12q.8,0,1-.42a8.68,8.68,0,0,0,.2-2.5V16.3a10.38,10.38,0,0,0,0-1.07,2.23,2.23,0,0,0-.15-.65.64.64,0,0,0-.42-.4,3,3,0,0,0-1.09.05c-.1,0-.16,0-.16-.09s.06-.13.16-.14a11.1,11.1,0,0,0,1.58-.44,12.81,12.81,0,0,0,1.63-.76.32.32,0,0,1,.28,0c.13.05.2.1.2.16v16.4l4.16-4.29a11.56,11.56,0,0,0,1.26-1.52,2.76,2.76,0,0,0,.51-1.24.77.77,0,0,0-.24-.73c-.19-.16.11,0-.87-.12-.09,0-.13-.25-.13-.25l.13-.12.58-.9s-.27,0,1.17.58a9.32,9.32,0,0,0,3.79.24" fill="#fff"/><path d="M71.05,20.39l1.71-1.28.29-.42a4.1,4.1,0,0,1,.2.49v9.58a5.65,5.65,0,0,0,.85,3.35,2.79,2.79,0,0,0,2.42,1.16,4.23,4.23,0,0,0,2.22-.58,7.33,7.33,0,0,0,2-2V23.39c0-.46,0-.84,0-1.12a2,2,0,0,0-.15-.65.62.62,0,0,0-.42-.39,3,3,0,0,0-1.16.08c-.11,0-.17,0-.17-.1s.06-.13.17-.15a10.06,10.06,0,0,0,1.65-.46,13,13,0,0,0,1.7-.78c.06,0,.15,0,.29,0s.21.11.21.17V30.53A8.44,8.44,0,0,0,83,33.11c.15.31.56.47,1.25.47.09,0,.13,0,.13.12a.12.12,0,0,1-.13.13c-.34,0-.8,0-1.4.07s-1.34.11-2.2.2a.19.19,0,0,1-.17,0s-.06-.11-.06-.24l0-.08s0-.11,0-.22c.07-.52.13-1,.17-1.34s0-.76,0-1.12a8.5,8.5,0,0,1-2.41,2.28,5.22,5.22,0,0,1-2.71.73,4,4,0,0,1-3.35-1.39,6.74,6.74,0,0,1-1.11-4.23V23.39c0-.46,0-.84,0-1.12a2,2,0,0,0-.15-.65.65.65,0,0,0-.42-.39,3,3,0,0,0-1.16.08L69.25,21" fill="#fff"/><path d="M85.7,33.8l-1.14,0H84c-.11,0-.16,0-.16-.13s0-.12.16-.12c.54,0,.87-.07,1-.22a1.62,1.62,0,0,0,.25-.86c0-.17,0-.39,0-.68s0-.72,0-1.29V23.39a2,2,0,0,0-.3-1,5.68,5.68,0,0,0-1-1.12.14.14,0,0,1-.06-.09s0-.05.06-.07a8.22,8.22,0,0,0,1.16-.56A3.77,3.77,0,0,0,86,20s.07-.05.08,0l.09.07a4.45,4.45,0,0,1,1.11,2.77,8.11,8.11,0,0,1,2.31-2.33,4.88,4.88,0,0,1,2.61-.72,4.5,4.5,0,0,1,2.68.79,4.2,4.2,0,0,1,1.53,2.32,8.87,8.87,0,0,1,2.39-2.37,4.9,4.9,0,0,1,2.63-.74,4.23,4.23,0,0,1,3.43,1.43,6.43,6.43,0,0,1,1.19,4.2v7.11c0,.56.07.89.22,1a2.39,2.39,0,0,0,1.19.14c.11,0,.17,0,.17.12s-.06.13-.17.13h-.22l-.69,0c-.56,0-.94,0-1.17,0h-.74l-.75,0-1.19,0h-.64c-.11,0-.16,0-.16-.13s0-.12.16-.12a3.61,3.61,0,0,0,1.41-.17.78.78,0,0,0,.39-.61,3.42,3.42,0,0,0,.08-.68q0-.42,0-1.53V25.05a5.35,5.35,0,0,0-.92-3.34,3.07,3.07,0,0,0-2.54-1.17,3.89,3.89,0,0,0-2,.49,7.67,7.67,0,0,0-2,2.08v9.33a1.19,1.19,0,0,0,.28.94,2.49,2.49,0,0,0,1.38.2c.12,0,.17,0,.17.12s0,.13-.17.13H98l-.71,0c-.59,0-1,0-1.23,0h-.76l-.69,0-1.18,0h-.62c-.11,0-.17,0-.17-.13s.06-.12.17-.12a3,3,0,0,0,1.29-.17.94.94,0,0,0,.34-.69c0-.15,0-.35,0-.6s0-.76,0-1.53V25.05a5.84,5.84,0,0,0-.81-3.37,2.69,2.69,0,0,0-2.35-1.14,3.83,3.83,0,0,0-2.06.53,7.81,7.81,0,0,0-1.93,2V33.58h1.64c.11,0,.16,0,.16.12s0,.13-.16.13h-.21l-.6,0c-.48,0-.82,0-1,0h-.72Z" fill="#fff"/><path d="M108.69,33.8l-1.17,0h-.63c-.11,0-.16,0-.16-.13s0-.12.16-.12c.74,0,1.21-.14,1.4-.43a5.63,5.63,0,0,0,.29-2.37V23.39a3.39,3.39,0,0,0-.29-1.76c-.19-.25-.69-.29-1.48-.12-.11,0-.18,0-.21-.09s0-.12.13-.14a8,8,0,0,0,1.71-.57,11.36,11.36,0,0,0,1.75-1,.39.39,0,0,1,.29,0c.14.06.21.11.21.17V30.78a5.46,5.46,0,0,0,.29,2.37c.19.29.65.43,1.37.43.11,0,.16,0,.16.12s-.05.13-.16.13h-.61l-1.11,0-.68,0h-.54ZM111,15.88a1.37,1.37,0,0,1-.43,1,1.43,1.43,0,0,1-1,.41,1.36,1.36,0,0,1-1-.41,1.4,1.4,0,0,1-.42-1,1.45,1.45,0,0,1,.42-1,1.37,1.37,0,0,1,1-.42A1.45,1.45,0,0,1,111,15.88Z" fill="#fff"/><path d="M118.26,25V15.64c0-.76,0-1.4-.07-1.92s0-1-.07-1.33a4.64,4.64,0,0,0-.41-1.7c-.19-.3-.62-.45-1.32-.45h-.72q-.21,0-.21-.15c0-.11.07-.16.21-.16l.83,0,1.73.05,1,0H120l1,0,1.7-.05.79,0c.14,0,.21.05.21.16s-.07.15-.21.15h-.72q-1,0-1.32.45a4.64,4.64,0,0,0-.41,1.7c0,.37,0,.81-.07,1.33s0,1.16-.07,1.92V28.21c0,.76,0,1.4.07,1.92s0,1,.07,1.33a4.52,4.52,0,0,0,.41,1.69c.19.31.63.46,1.32.46h.72q.21,0,.21.15c0,.1-.07.16-.21.16l-.79,0-1.7,0-1,0h-.74l-1,0-1.73,0-.83,0c-.14,0-.21-.06-.21-.16s.07-.15.21-.15h.72c.7,0,1.13-.15,1.32-.46a4.52,4.52,0,0,0,.41-1.69c0-.37,0-.81.07-1.33s0-1.16.07-1.92V25Z" fill="#fff"/><path d="M133.91,30.64a3.84,3.84,0,0,1-1.42,3A5.23,5.23,0,0,1,129,34.91c-.5,0-1,0-1.43-.07s-.89-.11-1.31-.18a12.81,12.81,0,0,1-1.59-.43l-1-.32a.22.22,0,0,1-.16-.11.83.83,0,0,1,0-.28V33.4a2,2,0,0,1,0-.26c.06-.6.09-1.26.11-2s0-1.59,0-2.57c0-.12,0-.19.11-.19s.11.07.11.19a11.12,11.12,0,0,0,.32,2.86,4.43,4.43,0,0,0,.95,1.85,3.75,3.75,0,0,0,1.57,1,7.1,7.1,0,0,0,2.31.33,4.36,4.36,0,0,0,2.69-.71,2.44,2.44,0,0,0,.91-2.06,2.25,2.25,0,0,0-.83-1.75,12,12,0,0,0-3.57-1.63,11.22,11.22,0,0,1-3.71-1.78,2.73,2.73,0,0,1-1-2.1,3.6,3.6,0,0,1,1.49-3,5.88,5.88,0,0,1,3.63-1.13c.46,0,.88,0,1.25,0s.72,0,1.08.08l1.26.18,1,.18a.34.34,0,0,1,.16.07.21.21,0,0,1,0,.15c0,.15,0,.38,0,.69s0,.86-.05,1.64-.06,1.41-.07,1.76,0,.59,0,.76,0,.16-.11.16-.11-.05-.11-.16a9.63,9.63,0,0,0-.21-2.14,5.31,5.31,0,0,0-.62-1.57,3.25,3.25,0,0,0-1.43-1.21,5.26,5.26,0,0,0-2.17-.4,5.14,5.14,0,0,0-2.77.66,2,2,0,0,0-1,1.75,2.18,2.18,0,0,0,.8,1.69,12.14,12.14,0,0,0,3.57,1.69A10.88,10.88,0,0,1,133,28.43,3,3,0,0,1,133.91,30.64Z" fill="#fff"/><path d="M172.34,33.56a7.94,7.94,0,0,1-2,1,7.36,7.36,0,0,1-2.15.32,6.92,6.92,0,0,1-5-1.86,6.32,6.32,0,0,1-1.93-4.79,7.19,7.19,0,0,1,.61-2.84,8.27,8.27,0,0,1,1.75-2.53,8.08,8.08,0,0,1,2.52-1.76,7,7,0,0,1,2.82-.62,7.61,7.61,0,0,1,1.86.21,4.27,4.27,0,0,1,1.44.62,3.53,3.53,0,0,1,1.22,1.33,2.58,2.58,0,0,1,.3,1.58,1,1,0,0,1-.33.65,1.37,1.37,0,0,1-.83.21h-9.44a7,7,0,0,0-.18,1,8.11,8.11,0,0,0-.07,1.12,5.57,5.57,0,0,0,1.93,4.3,6.81,6.81,0,0,0,4.77,1.76,6.3,6.3,0,0,0,4-1.3,10.59,10.59,0,0,0,3-4.07c.07-.17.14-.23.2-.21s.07.12,0,.27a14.32,14.32,0,0,1-1.91,3.28A10.78,10.78,0,0,1,172.34,33.56Zm-1-10a2.25,2.25,0,0,0-.9-1.76,3.39,3.39,0,0,0-2.28-.76,4.84,4.84,0,0,0-5,3.76H165l2.45,0,1.56,0,.91,0a3,3,0,0,0,.66-.09,1.27,1.27,0,0,0,.44-.16.85.85,0,0,0,.18-.37A1.7,1.7,0,0,0,171.31,23.59Z" fill="#fff"/><path d="M160.14,26.87a7.49,7.49,0,0,1-2.39,5.58,7.69,7.69,0,0,1-5.53,2.31A6.21,6.21,0,0,1,148,33.1q-.58.8-.84,1.11t-.36.3s-.06,0-.09-.07a.3.3,0,0,1,0-.18V15.63c0-.47,0-.83,0-1.1a1.79,1.79,0,0,0-.16-.62.52.52,0,0,0-.31-.29,3.77,3.77,0,0,0-1.26.12c-.12,0-.17,0-.17-.09s0-.14.17-.16a5.89,5.89,0,0,0,.84-.23c.28-.1.58-.23.9-.38s.54-.3.9-.51l.7-.4q.09-.06.3,0c.13.05.2.11.2.16V23.35a7.15,7.15,0,0,1,2.48-2.2,6.4,6.4,0,0,1,3.06-.79,5.37,5.37,0,0,1,4.14,1.87A6.62,6.62,0,0,1,160.14,26.87Zm-11.39-3.21v7.89a10.52,10.52,0,0,0,2.41,2,4.67,4.67,0,0,0,2.22.62,4.1,4.1,0,0,0,3.49-1.63,7.68,7.68,0,0,0,1.22-4.65,7.61,7.61,0,0,0-1.43-4.7,4.46,4.46,0,0,0-3.72-1.9,4.7,4.7,0,0,0-2.34.65A5.24,5.24,0,0,0,148.75,23.66Z" fill="#fff"/><path d="M146.64,32.08a7.06,7.06,0,0,1-2.48,2.2,6.4,6.4,0,0,1-3.06.79A5.38,5.38,0,0,1,137,33.2a6.59,6.59,0,0,1-1.7-4.64A7.5,7.5,0,0,1,137.64,23a7.69,7.69,0,0,1,5.53-2.31,6.2,6.2,0,0,1,2.28.44,6.28,6.28,0,0,1,1.93,1.22Zm0-8.2a10.52,10.52,0,0,0-2.41-2,4.67,4.67,0,0,0-2.22-.62,4.08,4.08,0,0,0-3.49,1.64,7.64,7.64,0,0,0-1.22,4.65,7.58,7.58,0,0,0,1.43,4.69,4.44,4.44,0,0,0,3.73,1.9,4.7,4.7,0,0,0,2.33-.65,5.21,5.21,0,0,0,1.85-1.73Z" fill="#fff"/></svg>
    </div>

    <main>
    

      <Card v-for="(article, index) in articles" 
          :key="index" 
          :id="article.id"
          :title="article.title"
          :link="article.link"
          :date="article.date" 
          :dateby="article.dateby"
          :category="article.category" 
          :tag="article.tag" 
          :thumbnail="article.thumbnail" 
          :slug="article.slug" />
          
    
      </main>
  </div>
</template>

<script>
import { Card } from '~/components/Card'
import { gsap } from 'gsap'

export default {
  async asyncData({ $content }) {
    const articles = await $content('articles').sortBy('dateby', 'desc').fetch()
    return { articles }
  },

  head: {
    bodyAttrs: { id: 'Index' }
  },

  scrollToTop: false,

  data() {
    return {
      tl: gsap.timeline() // in GSAP v3, there's only one timeline type
    }
  },

  mounted() {
    this.tl
      .set(".op svg path", { opacity: 0 },"op")
      .to(".op svg path", 1.5,{ opacity: 1, y: "-2.5vw", ease: "expo.inOut", stagger: "0.045" },"op+=0.5")
      .to(".op svg path", 1.5, {opacity: 0, y: "-4.5vw", ease: "expo.inOut", stagger: "0.05" },"op+=1.75")
      .to(".op", 1, {x: "100vw", ease: "expo.inOut" },"op+=3.5")

      .from("#slug_2", 1, { width: 0, ease: "expo.inOut" },"op+=4")
  },
}
</script>

<style>
.op {background-color: var(--mainColor);}
.op svg path {opacity: 0;}

#Index {
  background-color: var(--black);
  transition: 1s cubic-bezier(.75,0,.25,1);
}

#Index main {
  overflow: auto;
  scroll-snap-type: y mandatory;
  height: 100vh;
}

#Index main .snap-align {
  padding-top: calc((100vh - 112.5vw) /2 );
}


#Index .page-enter-active, #Index .page-leave-active {transition: 1s cubic-bezier(.75,0,.25,1);}
#Index .page-enter, #Index .page-leave-to {background-color: #000;}

#Index .page-enter-active .slug, #Index .page-leave-active .slug, 
#Index .page-enter main, #Index .page-leave-to main,
#Index .page-enter .slug .space, #Index .page-leave-to .slug .space {
    transition: 1s cubic-bezier(.75,0,.25,1);
}


#Index .page-enter .snap-align, #Index .page-leave-to .snap-align {
    padding-top: 0;
    transition: 1s cubic-bezier(.75,0,.25,1);
}
#Index .page-enter .slug, #Index .page-leave-to .slug {
  width: 100vw;
  height: 150vw;
}
#Index .page-enter .slug, #Index .page-leave-to .slug {box-shadow: none;}

#Index .page-enter .slug .space, #Index .page-leave-to .slug .space,
#Index .page-enter .slug h1, #Index .page-leave-to .slug h1,
#Index .page-enter .slug .button, #Index .page-leave-to .slug .button {
  opacity: 0;
}


</style>
